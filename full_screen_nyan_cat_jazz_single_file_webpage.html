<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nyan Cat ‚Äî Smooth Jazz Edition</title>
  <meta name="description" content="Full-screen Nyan Cat with a scrolling starfield and the 'jazz' soundtrack. Click to start (autoplay restrictions)." />
  <!-- Assets pulled from Internet Archive 'nyancat all cats/songs' item -->
  <!-- GIFs & audio listing: https://archive.org/details/nyancat-all-cats-and-songs -->
  <style>
    :root {
      --ui-bg: rgba(0,0,0,0.55);
      --ui-fg: #fff;
      --ui-accent: #ffd166;
      --overlay-bg: rgba(0,0,0,0.85);
      --font: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      background: #000 url("https://archive.org/download/nyancat-all-cats-and-songs/star.gif") repeat 0 0 / 256px 256px;
      /* Scroll the starfield for that classic vibe */
      animation: scrollStars 30s linear infinite;
      overflow: hidden;
      font-family: var(--font);
      color: var(--ui-fg);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }
    @keyframes scrollStars {
      from { background-position: 0 0; }
      to   { background-position: -2048px 0; }
    }

    /* Center the cat */
    #cat {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      image-rendering: pixelated; /* crisp retro pixels */
      width: min(80vmin, 640px);
      height: auto;
      pointer-events: none;
      filter: drop-shadow(0 0 18px rgba(255,255,255,0.25));
      will-change: transform;
    }

    /* UI */
    #hud {
      position: fixed;
      bottom: 16px; left: 16px;
      display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
      background: var(--ui-bg);
      border-radius: 14px;
      padding: 10px 12px;
      backdrop-filter: blur(6px);
    }
    button, .chip {
      appearance: none; border: 0; outline: 0;
      background: #111; color: var(--ui-fg);
      padding: 8px 12px; border-radius: 999px;
      font-weight: 600; cursor: pointer; font-size: 14px;
    }
    button:hover { filter: brightness(1.1); }
    #timer { font-variant-numeric: tabular-nums; }

    /* Fullscreen overlay to satisfy autoplay-with-sound policies */
    #overlay {
      position: fixed; inset: 0;
      display: grid; place-items: center;
      background: var(--overlay-bg);
      z-index: 10;
    }
    #overlay .panel {
      text-align: center;
      background: var(--ui-bg);
      border: 2px solid #333; border-radius: 16px;
      padding: 24px 20px; max-width: 520px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.6);
    }
    #overlay h1 { margin: 0 0 8px; font-size: clamp(22px, 4vw, 32px); }
    #overlay p { margin: 0 0 16px; opacity: 0.85; }
    #startBtn {
      background: linear-gradient(90deg, #ff5e5e, #ffd166, #06d6a0, #118ab2, #c77dff);
      color: #000; font-weight: 800;
      padding: 12px 18px; border-radius: 999px; border: 0; cursor: pointer;
    }
    #startBtn:active { transform: translateY(1px); }

    /* Small help text */
    #help { position: fixed; right: 16px; bottom: 16px; opacity: 0.8; font-size: 12px; }

    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</head>
<body>
  <div id="overlay" role="dialog" aria-modal="true">
    <div class="panel">
      <h1>Ready to Nyan? üé∑‚ú®</h1>
      <p>Click below to start the music (browsers block autoplay with sound).</p>
      <button id="startBtn">Start Smooth Jazz Nyan</button>
    </div>
  </div>

  <img id="cat" alt="Nyan Cat" src="https://archive.org/download/nyancat-all-cats-and-songs/nyancat.gif" />

  <audio id="music" preload="auto" loop>
    <source src="https://archive.org/download/nyancat-all-cats-and-songs/jazz.mp3" type="audio/mpeg" />
    <source src="https://archive.org/download/nyancat-all-cats-and-songs/jazz.ogg" type="audio/ogg" />
  </audio>

  <div id="hud" aria-live="polite">
    <button id="muteBtn" aria-pressed="false" title="Mute (M)">Mute</button>
    <button id="pauseBtn" aria-pressed="false" title="Pause (Space)">Pause</button>
    <span class="chip">‚è±Ô∏è <span id="timer">0.0</span> s nyaned</span>
  </div>

  <div id="help">Keys: <strong>M</strong> mute, <strong>Space</strong> pause</div>

  <script>
    const audio = document.getElementById('music');
    const overlay = document.getElementById('overlay');
    const startBtn = document.getElementById('startBtn');
    const muteBtn = document.getElementById('muteBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const timerEl = document.getElementById('timer');

    let startTS = null;
    let paused = false;

    function tick(ts){
      if(!startTS) startTS = ts;
      const elapsed = (ts - startTS) / 1000;
      if(!paused) timerEl.textContent = elapsed.toFixed(1);
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);

    async function begin(){
      overlay.style.display = 'none';
      paused = false;
      try { await audio.play(); } catch (err) { console.warn('Audio play failed:', err); }
    }

    startBtn.addEventListener('click', begin);

    function toggleMute(){
      audio.muted = !audio.muted;
      muteBtn.setAttribute('aria-pressed', String(audio.muted));
      muteBtn.textContent = audio.muted ? 'Unmute' : 'Mute';
    }
    function togglePause(){
      if(audio.paused){ audio.play(); paused = false; }
      else { audio.pause(); paused = true; }
      pauseBtn.setAttribute('aria-pressed', String(paused));
      pauseBtn.textContent = paused ? 'Play' : 'Pause';
    }

    muteBtn.addEventListener('click', toggleMute);
    pauseBtn.addEventListener('click', togglePause);

    // Keyboard shortcuts
    window.addEventListener('keydown', (e) => {
      if(e.code === 'KeyM') toggleMute();
      if(e.code === 'Space') { e.preventDefault(); togglePause(); }
    });

    // Try to go fullscreen on first interaction (optional)
    overlay.addEventListener('click', () => {
      const el = document.documentElement;
      if (el.requestFullscreen) el.requestFullscreen().catch(()=>{});
    }, { once: true });
  </script>

  <!-- Credits:
       Nyan Cat by Chris Torres (PRguitarman). Assets and remix variants mirrored on Internet Archive.
       Smooth Jazz track from the same Internet Archive item (see link in <head> comment).
  -->
</body>
</html>
